
// Module names are of the form poly_<inkscape-path-id>().  As a result,
// you can associate a polygon in this OpenSCAD program with the corresponding
// SVG element in the Inkscape document by looking for the XML element with
// the attribute id="inkscape-path-id".

// fudge value is used to ensure that subtracted solids are a tad taller
// in the z dimension than the polygon being subtracted from.  This helps
// keep the resulting .stl file manifold.
fudge = 0.1;

			
			    /// Global parameters
grid = true ;   //Use grid for multi elements cutters
full= false ;  //For build full or empty objects (see instuctables for details)
borderThick = 1.5  ;    //border thickness (mm)
h=   12.0  ;    //total height of the cookie cutter (mm)
borderType=  1   ;    //type of border, 0 none, 1-classic, 2-cone
Lreb = 5.0;     //Width of border (en mm)
Hreb = 2.5 ;    //Thickness of border (mm)



                /// Grid parameters
gridX=300;      //Maximum X dimension Change only if you build cookies bigger than 30cm
gridY=300;      //Maximum Y dimension Change only if you build cookies bigger than 30cm
meshSolid=1.5;    //width of solid part of grid
meshSpace=10.0;    //width of blank part of grid 
gridThickness=Hreb; //thickness of grid
moveGridX=0;    //X shift for adujustments
moveGridY=0;    //Y shift for adjustments
rotateGridZ=45.0;  //Z rotation for adjtments



module poly_path2990(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-137.204278,-59.774095],[-134.978933,-62.694019],[-132.187138,-66.463619],[-130.882277,-68.452099],[-129.799951,-70.395060],[-129.061541,-72.206524],[-128.788431,-73.800510],[-128.970083,-74.967971],[-129.472893,-75.897725],[-130.233642,-76.615061],[-131.189107,-77.145266],[-132.276071,-77.513628],[-133.431311,-77.745435],[-135.693744,-77.900535],[-137.951750,-77.784474],[-140.041591,-77.447458],[-141.977176,-76.906242],[-143.772413,-76.177578],[-145.441211,-75.278221],[-146.997477,-74.224923],[-148.455120,-73.034437],[-149.828049,-71.723518],[-152.375394,-68.807390],[-154.750781,-65.610566],[-159.430743,-58.910937],[-167.149058,-58.440579],[-170.371750,-58.066947],[-173.231243,-57.575727],[-175.773373,-56.947950],[-178.043973,-56.164653],[-180.088878,-55.206869],[-181.953923,-54.055631],[-183.684941,-52.691974],[-185.327768,-51.096933],[-186.928237,-49.251540],[-188.532182,-47.136831],[-191.933842,-42.023599],[-195.899422,-35.605508],[-198.273123,-31.721273],[-192.096106,-32.584435],[-188.670420,-32.800227],[-184.921051,-32.692333],[-177.772982,-32.584439],[-180.943672,-27.604812],[-184.445637,-22.850246],[-188.246003,-18.303040],[-192.311894,-13.945493],[-196.610434,-9.759905],[-201.108750,-5.728574],[-205.773965,-1.833800],[-210.573206,1.942118],[-208.199505,10.142176],[-197.194167,1.294741],[-196.762579,1.726328],[-198.822708,6.736720],[-200.619843,12.192186],[-201.337602,14.998313],[-201.890989,17.809497],[-202.247129,20.590336],[-202.373147,23.305425],[-202.134175,26.404888],[-201.432433,29.205955],[-200.290679,31.673221],[-198.731673,33.771283],[-196.778175,35.464737],[-194.452943,36.718180],[-191.778738,37.496209],[-188.778319,37.763419],[-185.284785,37.501267],[-181.697684,36.748527],[-178.039775,35.555775],[-174.333819,33.973588],[-170.602573,32.052542],[-166.868799,29.843212],[-163.155254,27.396176],[-159.484699,24.762008],[-152.363595,19.134583],[-145.687560,13.365546],[-134.398999,3.021073],[-135.477946,-6.473730],[-149.774092,3.769589],[-155.263275,7.644554],[-159.862322,10.735593],[-163.733075,13.078108],[-167.037376,14.707501],[-169.937067,15.659176],[-171.285761,15.891931],[-172.593992,15.968533],[-174.297139,15.838721],[-175.699360,15.456029],[-176.823412,14.830571],[-177.692056,13.972464],[-178.328051,12.891822],[-178.754154,11.598761],[-178.993127,10.103396],[-179.067727,8.415843],[-178.927800,5.935725],[-178.524877,3.363304],[-177.884248,0.717548],[-177.031198,-1.982578],[-174.788994,-7.470075],[-172.000569,-12.947458],[-168.868228,-18.262998],[-165.594273,-23.264966],[-162.381010,-27.801634],[-159.430743,-31.721273],[-155.230568,-31.550052],[-151.501696,-31.605792],[-148.199559,-31.892918],[-145.279586,-32.415854],[-142.697207,-33.179026],[-140.407852,-34.186860],[-138.366951,-35.443780],[-136.529934,-36.954212],[-134.852232,-38.722582],[-133.289274,-40.753314],[-131.796491,-43.050834],[-130.329311,-45.619568],[-127.293487,-51.588375],[-123.825240,-58.695139],[-137.204278,-59.774095]]);
  }
}

module poly_path2992(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[-80.458001,0.647373],[-80.026414,1.078951],[-82.457433,6.342225],[-85.070528,12.758636],[-86.224083,16.102133],[-87.157633,19.377352],[-87.782669,22.465438],[-88.010682,25.247538],[-87.857689,27.535681],[-87.393653,29.674625],[-86.610988,31.616322],[-85.502108,33.312727],[-84.059426,34.715791],[-82.275357,35.777466],[-80.142314,36.449706],[-77.652713,36.684464],[-75.464460,36.422575],[-72.901944,35.671678],[-70.020798,34.483932],[-66.876657,32.911491],[-63.525153,31.006513],[-60.021921,28.821155],[-52.782807,23.817921],[-45.604384,18.319044],[-38.931722,12.741775],[-33.209891,7.503367],[-28.883960,3.021073],[-30.610284,-4.963195],[-38.038212,0.374258],[-41.993679,3.249082],[-46.012366,6.015168],[-50.020937,8.487912],[-53.946058,10.482714],[-55.854408,11.243198],[-57.714393,11.814970],[-59.516848,12.174955],[-61.252605,12.300078],[-62.531333,12.228008],[-63.754428,12.006738],[-64.886486,11.628683],[-65.892105,11.086255],[-66.735882,10.371870],[-67.382412,9.477939],[-67.796292,8.396878],[-67.942120,7.121098],[-67.731281,5.164493],[-67.135433,3.110845],[-66.209576,0.979436],[-65.008712,-1.210452],[-62.001970,-5.688537],[-58.555216,-10.169152],[-55.108462,-14.498039],[-52.101719,-18.520940],[-50.900856,-20.369441],[-49.974999,-22.083599],[-49.379150,-23.644132],[-49.168312,-25.031758],[-49.269042,-26.704135],[-49.569548,-28.174210],[-50.067301,-29.462212],[-50.759771,-30.588372],[-51.644429,-31.572919],[-52.718747,-32.436083],[-53.980197,-33.198095],[-55.426248,-33.879184],[-53.426807,-34.631078],[-50.921607,-35.848273],[-49.751193,-36.599748],[-48.780555,-37.429616],[-48.118430,-38.325233],[-47.873558,-39.273954],[-48.069119,-40.471340],[-48.669289,-42.015173],[-49.694298,-43.746137],[-51.164376,-45.504918],[-53.099752,-47.132202],[-55.520657,-48.468674],[-56.919505,-48.978069],[-58.447321,-49.355019],[-60.106634,-49.579609],[-61.899973,-49.631923],[-66.936075,-49.201183],[-72.571503,-48.178704],[-78.677290,-46.604945],[-85.124465,-44.520369],[-91.784060,-41.965436],[-98.527106,-38.980606],[-105.224634,-35.606342],[-111.747675,-31.883104],[-117.967261,-27.851352],[-123.754422,-23.551548],[-128.980189,-19.024152],[-131.342248,-16.687752],[-133.515595,-14.309626],[-135.484109,-11.894834],[-137.231669,-9.448431],[-138.742154,-6.975476],[-139.999442,-4.481027],[-140.987414,-1.970141],[-141.689947,0.552125],[-142.090921,3.080712],[-142.174214,5.610564],[-141.956209,7.745712],[-141.482163,9.926379],[-140.779261,12.127278],[-139.874687,14.323118],[-138.795626,16.488614],[-137.569263,18.598476],[-134.783367,22.550149],[-131.734476,25.975831],[-128.640068,28.673220],[-127.143756,29.685583],[-125.717619,30.440009],[-124.388841,30.911209],[-123.184607,31.073896],[-122.154859,30.947087],[-120.944933,30.585415],[-118.093289,29.270017],[-114.847152,27.352764],[-111.423999,25.058720],[-104.916552,20.240513],[-100.310765,16.615901],[-80.458001,0.647373]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-68.805286,-28.484405],[-68.373699,-28.052827],[-82.772677,-13.833395],[-94.187677,-3.189680],[-103.013191,4.409363],[-109.643709,9.494783],[-112.259123,11.260836],[-114.473723,12.597626],[-117.897724,14.248938],[-120.310203,14.979766],[-122.105651,15.321156],[-123.211578,15.365830],[-124.115203,15.071645],[-124.836755,14.524581],[-125.396464,13.810616],[-126.111274,12.225901],[-126.421474,11.005333],[-126.338655,8.992411],[-126.052267,6.918796],[-125.505412,4.784489],[-124.641192,2.589491],[-123.402708,0.333801],[-121.733065,-1.982581],[-119.575363,-4.359654],[-116.872705,-6.797418],[-113.568193,-9.295874],[-109.604929,-11.855021],[-104.926016,-14.474858],[-99.474556,-17.155387],[-93.193650,-19.896606],[-86.026402,-22.698515],[-77.915914,-25.561115]]);
    }
  }
}

module poly_path2994(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[31.608317,4.100029],[27.729563,7.008988],[23.964602,9.690356],[20.224927,12.058155],[16.422031,14.026404],[12.467406,15.509125],[10.405538,16.041544],[8.272547,16.420338],[6.057370,16.634761],[3.748945,16.674064],[1.336207,16.527500],[-1.191906,16.184323],[3.978643,12.806269],[9.017698,8.985672],[11.434176,6.910211],[13.753297,4.725063],[15.953564,2.430544],[18.013483,0.026970],[19.911559,-2.485341],[21.626297,-5.106075],[23.136202,-7.834915],[24.419779,-10.671545],[25.455534,-13.615648],[26.221972,-16.666908],[26.697597,-19.825009],[26.860916,-23.089636],[26.720146,-26.554933],[26.341669,-29.853332],[25.134588,-36.091042],[23.765665,-42.085987],[23.184885,-45.080930],[22.760891,-48.121389],[22.478929,-50.199217],[22.083170,-51.917956],[21.520512,-53.302895],[20.737848,-54.379321],[19.682074,-55.172521],[18.300085,-55.707784],[16.538777,-56.010397],[14.345044,-56.105649],[12.931445,-56.026360],[11.603825,-55.795028],[10.362185,-55.421450],[9.206523,-54.915427],[7.153137,-53.545238],[5.443668,-51.762856],[4.078115,-49.646672],[3.056480,-47.275080],[2.378762,-44.726472],[2.044961,-42.079242],[-44.781679,0.863162],[-46.319187,2.377069],[-48.018540,4.234894],[-49.394208,6.295024],[-49.808931,7.356698],[-49.960659,8.415843],[-49.690921,9.875806],[-48.935653,11.194156],[-48.401233,11.730683],[-47.775777,12.148357],[-47.069398,12.419361],[-46.292213,12.515877],[-44.913176,12.259624],[-43.675749,11.598762],[-42.559704,10.695135],[-41.544811,9.710588],[-40.678225,12.575717],[-39.548326,15.263831],[-38.175030,17.774929],[-36.578250,20.109011],[-34.777902,22.266078],[-32.793899,24.246129],[-30.646157,26.049164],[-28.354589,27.675183],[-25.939109,29.124186],[-23.419633,30.396174],[-20.816075,31.491146],[-18.148349,32.409101],[-15.436369,33.150041],[-12.700050,33.713964],[-9.959307,34.100872],[-7.234053,34.310763],[-3.927913,34.238954],[-0.499442,33.726186],[3.027022,32.811971],[6.627137,31.535821],[10.276565,29.937250],[13.950965,28.055769],[17.625998,25.930891],[21.277324,23.602129],[28.411494,18.491001],[35.158757,13.038487],[41.324395,7.560685],[46.713689,2.373696],[44.555777,-5.826362],[31.608317,4.100029]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[2.260750,-30.426527],[3.906156,-20.527120],[5.066030,-12.731666],[4.678703,-8.427230],[3.949986,-4.797981],[2.801487,-1.689664],[2.045323,-0.282649],[1.154815,1.051979],[-1.068423,3.581202],[-3.946619,6.052263],[-7.558166,8.619417],[-11.981455,11.436921],[-15.218318,7.141334],[-17.003652,5.056758],[-18.940714,3.128968],[-21.059850,1.443943],[-23.391404,0.087661],[-25.965722,-0.853896],[-28.813150,-1.294750],[2.260750,-30.426527]]);
    }
  }
}

module poly_path2996(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[108.510823,-59.774095],[110.736168,-62.694019],[113.527964,-66.463619],[114.832825,-68.452099],[115.915151,-70.395060],[116.653561,-72.206524],[116.926671,-73.800510],[116.745019,-74.967971],[116.242210,-75.897725],[115.481463,-76.615061],[114.525999,-77.145266],[113.439037,-77.513628],[112.283798,-77.745435],[110.021367,-77.900535],[107.763361,-77.784474],[105.673519,-77.447458],[103.737934,-76.906242],[101.942697,-76.177578],[100.273899,-75.278221],[98.717633,-74.224923],[97.259990,-73.034437],[95.887061,-71.723518],[93.339714,-68.807390],[90.964326,-65.610566],[86.284358,-58.910937],[78.566043,-58.440579],[75.343352,-58.066947],[72.483859,-57.575727],[69.941729,-56.947950],[67.671129,-56.164653],[65.626224,-55.206869],[63.761180,-54.055631],[62.030162,-52.691974],[60.387336,-51.096933],[58.786868,-49.251540],[57.182923,-47.136831],[53.781265,-42.023599],[49.815689,-35.605508],[47.441988,-31.721273],[53.619000,-32.584435],[57.044684,-32.800227],[60.794055,-32.692333],[67.942129,-32.584439],[64.771436,-27.604812],[61.269468,-22.850246],[57.469101,-18.303040],[53.403210,-13.945493],[49.104670,-9.759905],[44.606356,-5.728574],[39.941142,-1.833800],[35.141905,1.942118],[37.515606,10.142176],[48.520944,1.294741],[48.952522,1.726328],[46.892394,6.736720],[45.095259,12.192186],[44.377500,14.998313],[43.824113,17.809497],[43.467973,20.590336],[43.341954,23.305425],[43.580927,26.404888],[44.282670,29.205955],[45.424426,31.673221],[46.983433,33.771283],[48.936933,35.464737],[51.262166,36.718180],[53.936372,37.496209],[56.936791,37.763419],[60.430326,37.501267],[64.017427,36.748527],[67.675335,35.555775],[71.381292,33.973588],[75.112537,32.052542],[78.846312,29.843212],[82.559856,27.396176],[86.230411,24.762008],[93.351516,19.134583],[100.027550,13.365546],[111.316112,3.021073],[110.237156,-6.473730],[95.941014,3.769589],[90.451830,7.644554],[85.852783,10.735593],[81.982029,13.078108],[78.677727,14.707501],[75.778035,15.659176],[74.429341,15.891931],[73.121109,15.968533],[71.417965,15.838721],[70.015747,15.456029],[68.891696,14.830571],[68.023053,13.972464],[67.387059,12.891822],[66.960956,11.598761],[66.721984,10.103396],[66.647384,8.415843],[66.787311,5.935725],[67.190233,3.363304],[67.830863,0.717548],[68.683912,-1.982578],[70.926116,-7.470075],[73.714540,-12.947458],[76.846881,-18.262998],[80.120834,-23.264966],[83.334094,-27.801634],[86.284358,-31.721273],[90.484534,-31.550052],[94.213405,-31.605792],[97.515543,-31.892918],[100.435516,-32.415854],[103.017895,-33.179026],[105.307251,-34.186860],[107.348152,-35.443780],[109.185168,-36.954212],[110.862871,-38.722582],[112.425830,-40.753314],[113.918614,-43.050834],[115.385794,-45.619568],[118.421621,-51.588375],[121.889871,-58.695139],[108.510823,-59.774095]]);
  }
}

module poly_path2998(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[210.573206,-4.315818],[208.846873,-12.300087],[160.941278,30.210729],[160.509699,29.779151],[192.446765,-17.694857],[195.103689,-21.784772],[198.003379,-26.785055],[199.291382,-29.405314],[200.336619,-31.987641],[201.037940,-34.443527],[201.294192,-36.684464],[201.194304,-38.042007],[200.899698,-39.735881],[200.417962,-41.596657],[199.756680,-43.454905],[198.923440,-45.141194],[197.925828,-46.486095],[196.771431,-47.320178],[196.137808,-47.492715],[195.467834,-47.474012],[194.585599,-47.187837],[193.477669,-46.580503],[190.592306,-44.452938],[186.826920,-41.192469],[182.196685,-36.900250],[170.402359,-25.625170],[155.330719,-11.436921],[148.293910,-5.101436],[144.599752,-2.071512],[140.791798,0.728292],[136.872577,3.194296],[132.844618,5.222816],[130.790653,6.040620],[128.710452,6.710173],[126.604332,7.218515],[124.472608,7.552686],[124.840127,4.201180],[125.632487,0.971058],[126.869915,-2.097221],[128.572641,-4.963195],[131.970925,-7.795450],[136.499584,-11.841531],[141.670559,-16.737289],[146.995791,-22.118577],[151.987222,-27.621247],[156.156793,-32.881152],[157.780863,-35.306272],[159.016445,-37.534144],[159.802534,-39.519252],[160.078120,-41.216076],[159.812174,-42.509977],[159.083457,-44.041587],[157.995651,-45.684463],[156.652435,-47.312168],[155.157492,-48.798259],[153.614502,-50.016299],[152.127146,-50.839845],[150.799106,-51.142458],[149.321340,-50.790375],[147.220856,-49.843075],[144.598175,-48.342600],[141.553816,-46.330991],[138.188299,-43.850289],[134.602143,-40.942536],[130.895870,-37.649773],[127.169998,-34.014041],[123.525048,-30.077383],[120.061539,-25.881839],[116.879992,-21.469452],[114.080925,-16.882262],[111.764860,-12.162310],[110.819365,-9.765687],[110.032316,-7.351639],[109.416276,-4.925422],[108.983812,-2.492290],[108.747488,-0.057499],[108.719868,2.373696],[108.951623,5.286451],[109.390424,8.034834],[110.015723,10.616317],[110.806974,13.028371],[111.743632,15.268466],[112.805149,17.334075],[113.970979,19.222667],[115.220575,20.931715],[116.533392,22.458690],[117.888881,23.801062],[119.266497,24.956303],[120.645694,25.921884],[122.005924,26.695275],[123.326642,27.273949],[124.587300,27.655377],[125.767353,27.837028],[126.404400,27.740514],[127.333524,27.378474],[130.002252,25.908398],[133.642041,23.527953],[138.121391,20.338291],[149.072783,11.935931],[161.804444,1.510539],[162.236032,1.942118],[133.320043,50.710870],[131.681378,53.431860],[129.759490,56.941837],[128.161288,60.573196],[127.673230,62.225767],[127.493686,63.658330],[127.585987,65.323545],[127.867949,67.431300],[128.347157,69.776763],[129.031197,72.155100],[129.927657,74.361478],[131.044121,76.191066],[131.687226,76.900552],[132.388177,77.439029],[133.147923,77.780891],[133.967411,77.900535],[134.643549,77.805442],[135.370896,77.534280],[136.941281,76.548470],[138.602703,75.112533],[140.279298,73.395899],[143.374550,69.798259],[145.620126,67.110987],[210.573206,-4.315818]]);
  }
}


module shape(h){ poly_path2990(h);
poly_path2992(h);
poly_path2994(h);
poly_path2996(h);
poly_path2998(h);

}

//-------------------------------------------------

/// Module grid have been imported from the Openscad grid creator by Glyn
/// Orininaly published on http://www.thingiverse.com/thing:29211
/// Under the terms of Creative Commons By-Sa (08.26.2012)

module grid(meshSolid, meshSpace, gridThickness, gridX, gridY){

meshX=gridX;
meshY=gridY;
nX=meshX/(meshSolid+meshSpace);
nY=meshY/(meshSolid+meshSpace);

for (i=[0:nX]) {
	 	 translate([-(meshX/2)+i*(meshSolid+meshSpace),-meshY/2,-gridThickness/2]) cube(size=[meshSolid,meshY,gridThickness],center=false);
}

for (i=[0:nY]) {
	 	translate([-meshX/2,-(meshY/2)+i*(meshSolid+meshSpace),-gridThickness/2]) cube(size=[meshX,meshSolid,gridThickness],center=false);
    }
}


module rebords(borderType,borderThick,Lreb,Hreb){
if (borderType==0){}
if (borderType==1){
    cylinder(h = Hreb, r=(borderThick+Lreb));} 
if (borderType==2) {
    cylinder(h = Hreb, r1=(borderThick+Lreb),r2=(borderThick));}
}


module borders(h){
cylinder(r=borderThick,h=h);
}



module fullVolume (borderType,borderThick,Lreb,Hreb,h) {
minkowski(){
    shape(0.001);
    union(){
       borders(h);
       rebords(borderType,borderThick,Lreb,Hreb);
    }}}


module finalShape(){
if (full == false){
    difference(){
      fullVolume(borderType,borderThick,Lreb,Hreb,h);
      translate([0,0,(-0.5*h)]) shape(3*h);
}}
else{
          fullVolume(borderType,borderThick,Lreb,Hreb,h);
}
}


if (grid==true){
union (){
  finalShape();
  intersection() {
   translate([moveGridX,moveGridY,(0.5*gridThickness)]) rotate([0,0,rotateGridZ]) grid(meshSolid, meshSpace, gridThickness, gridX, gridY);
    shape();
}}
}
else{
    finalShape();
}

// Enjoy your cookies ! :)

