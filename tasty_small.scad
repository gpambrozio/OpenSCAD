
// Module names are of the form poly_<inkscape-path-id>().  As a result,
// you can associate a polygon in this OpenSCAD program with the corresponding
// SVG element in the Inkscape document by looking for the XML element with
// the attribute id="inkscape-path-id".

// fudge value is used to ensure that subtracted solids are a tad taller
// in the z dimension than the polygon being subtracted from.  This helps
// keep the resulting .stl file manifold.
fudge = 0.1;

			
			    /// Global parameters
grid = true ;   //Use grid for multi elements cutters
full= false ;  //For build full or empty objects (see instuctables for details)
borderThick = 1.5  ;    //border thickness (mm)
h=   15.0  ;    //total height of the cookie cutter (mm)
borderType=  1   ;    //type of border, 0 none, 1-classic, 2-cone
Lreb = 5.0;     //Width of border (en mm)
Hreb = 1.5 ;    //Thickness of border (mm)



                /// Grid parameters
gridX=300;      //Maximum X dimension Change only if you build cookies bigger than 30cm
gridY=300;      //Maximum Y dimension Change only if you build cookies bigger than 30cm
meshSolid=1.5;    //width of solid part of grid
meshSpace=8.0;    //width of blank part of grid 
gridThickness=Hreb; //thickness of grid
moveGridX=0;    //X shift for adujustments
moveGridY=0;    //Y shift for adjustments
rotateGridZ=45.0;  //Z rotation for adjtments



module poly_path2990(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-89.398238,-38.947027],[-86.129218,-43.305722],[-84.573798,-45.867333],[-83.914721,-48.086223],[-84.360697,-49.452706],[-85.478931,-50.265567],[-86.939884,-50.656619],[-88.414018,-50.757678],[-91.246947,-50.462466],[-93.677840,-49.635050],[-95.779196,-48.362758],[-97.623512,-46.732917],[-100.831019,-42.749899],[-103.880343,-38.384619],[-108.909368,-38.078148],[-112.872339,-37.514636],[-116.008171,-36.595222],[-118.555779,-35.221046],[-120.754076,-33.293246],[-122.841978,-30.712961],[-127.642252,-23.199493],[-129.188885,-20.668640],[-122.932049,-21.371655],[-115.831602,-21.231054],[-120.179306,-14.888543],[-125.304725,-9.086470],[-131.036496,-3.732569],[-137.203254,1.265426],[-135.656621,6.608341],[-128.485870,0.843615],[-128.204660,1.124824],[-130.717939,7.944067],[-131.546179,11.604140],[-131.860340,15.185124],[-131.704633,17.204642],[-131.247398,19.029734],[-130.503465,20.637331],[-129.487663,22.004366],[-128.214821,23.107771],[-126.699770,23.924477],[-124.957337,24.431418],[-123.002353,24.605524],[-120.726070,24.434713],[-118.388821,23.944250],[-113.590745,22.136182],[-108.726759,19.444952],[-103.915499,16.134190],[-94.925693,8.708594],[-87.570401,1.968442],[-88.273411,-4.218090],[-104.161547,6.994994],[-108.836599,9.582972],[-110.725952,10.203054],[-112.457126,10.404623],[-114.480491,10.070690],[-115.778873,9.104043],[-116.470905,7.557409],[-116.675219,5.483514],[-116.321514,2.191429],[-115.348278,-1.291789],[-113.887324,-4.867279],[-112.070469,-8.436179],[-107.896316,-15.158762],[-103.880343,-20.668640],[-98.714011,-20.593397],[-94.659869,-21.121209],[-91.485591,-22.275144],[-88.958855,-24.078269],[-86.847337,-26.553651],[-84.918713,-29.724357],[-80.680853,-38.244012],[-89.398238,-38.947027]]);
  }
}

module poly_path2992(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[-52.424047,0.421809],[-52.142837,0.703013],[-55.429432,8.313149],[-56.789328,12.625707],[-57.345150,16.450547],[-56.943112,19.335105],[-55.710637,21.705585],[-54.770628,22.619779],[-53.608182,23.311536],[-52.218355,23.749547],[-50.596204,23.902508],[-47.500744,23.242608],[-43.574846,21.444151],[-39.108503,18.779009],[-34.391711,15.519051],[-25.366755,8.302163],[-18.819932,1.968442],[-19.944753,-3.233871],[-29.980293,3.919305],[-35.149651,6.830226],[-37.604986,7.698284],[-39.910381,8.014366],[-41.540494,7.823234],[-42.933341,7.223475],[-43.904381,6.175544],[-44.269070,4.639896],[-43.743457,2.026935],[-42.357749,-0.788695],[-38.152842,-6.625918],[-33.947935,-12.067695],[-32.562227,-14.389018],[-32.036613,-16.309951],[-32.298047,-18.357480],[-33.073561,-19.930476],[-34.349972,-21.134389],[-36.114099,-22.074671],[-33.179009,-23.357671],[-31.783962,-24.388027],[-31.192990,-25.589743],[-31.711465,-27.375840],[-33.337189,-29.649655],[-34.598223,-30.709945],[-36.175613,-31.580750],[-38.082541,-32.158266],[-40.332186,-32.338689],[-43.613561,-32.058032],[-47.285439,-31.391814],[-55.464576,-29.008152],[-64.197339,-25.398607],[-72.811470,-20.774085],[-76.863968,-18.147115],[-80.634710,-15.345490],[-84.039665,-12.395573],[-86.994801,-9.323728],[-89.416085,-6.156317],[-91.219484,-2.919704],[-92.320966,0.359748],[-92.636500,3.655677],[-92.185581,6.467734],[-91.138197,9.332519],[-89.636051,12.118216],[-87.820844,14.693008],[-85.834277,16.925081],[-83.818052,18.682619],[-81.913872,19.833807],[-80.263436,20.246829],[-78.804131,19.928549],[-76.946084,19.071475],[-72.600572,16.327519],[-65.359519,10.826428],[-52.424047,0.421809]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-44.831484,-18.559594],[-44.550274,-18.278390],[-53.932221,-9.013430],[-61.369896,-2.078301],[-67.120339,2.873010],[-71.440588,6.186519],[-74.587682,8.208239],[-76.818660,9.284185],[-79.560420,9.982811],[-80.869785,9.820237],[-81.704616,8.998588],[-82.372483,7.170749],[-82.131918,4.508082],[-81.212503,1.687236],[-79.317654,-1.291791],[-76.150788,-4.428996],[-71.415321,-7.724380],[-64.814670,-11.177941],[-56.052252,-14.789679]]);
    }
  }
}

module poly_path2996(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[70.702434,-38.947027],[73.971454,-43.305722],[75.526874,-45.867333],[76.185950,-48.086223],[75.739976,-49.452706],[74.621744,-50.265567],[73.160792,-50.656619],[71.686659,-50.757678],[68.853731,-50.462466],[66.422837,-49.635050],[64.321481,-48.362758],[62.477165,-46.732917],[59.269656,-42.749899],[56.220329,-38.384619],[51.191303,-38.078148],[47.228332,-37.514636],[44.092500,-36.595222],[41.544893,-35.221046],[39.346597,-33.293246],[37.258696,-30.712961],[32.458425,-23.199493],[30.911792,-20.668640],[37.168624,-21.371655],[44.269076,-21.231054],[39.921368,-14.888543],[34.795948,-9.086470],[29.064178,-3.732569],[22.897423,1.265426],[24.444056,6.608341],[31.614808,0.843615],[31.896011,1.124824],[29.382733,7.944067],[28.554492,11.604140],[28.240332,15.185124],[28.396039,17.204642],[28.853274,19.029734],[29.597208,20.637331],[30.613011,22.004366],[31.885854,23.107771],[33.400907,23.924477],[35.143340,24.431418],[37.098324,24.605524],[39.374608,24.434713],[41.711856,23.944250],[46.509932,22.136182],[51.373918,19.444952],[56.185178,16.134190],[65.174985,8.708594],[72.530276,1.968442],[71.827261,-4.218090],[55.939127,6.994994],[51.264073,9.582972],[49.374720,10.203054],[47.643546,10.404623],[45.620184,10.070690],[44.321804,9.104043],[43.629773,7.557409],[43.425458,5.483514],[43.779163,2.191429],[44.752400,-1.291789],[46.213353,-4.867279],[48.030208,-8.436179],[52.204359,-15.158762],[56.220329,-20.668640],[61.386660,-20.593397],[65.440803,-21.121209],[68.615081,-22.275144],[71.141817,-24.078269],[73.253336,-26.553651],[75.181961,-29.724357],[79.419824,-38.244012],[70.702434,-38.947027]]);
  }
}

module poly_path2994(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[20.595042,2.671457],[15.614624,6.313949],[10.700108,9.139189],[8.123392,10.105286],[5.390146,10.699005],[2.442701,10.864325],[-0.776611,10.545225],[2.592366,8.344185],[5.875664,5.854797],[8.961240,3.078711],[11.737051,0.017573],[14.091053,-3.326967],[15.911204,-6.953262],[17.085459,-10.859663],[17.501776,-15.044522],[17.163450,-19.451545],[16.376952,-23.515852],[15.485002,-27.421981],[14.830322,-31.354470],[14.388739,-33.828200],[13.512167,-35.431952],[11.923793,-36.297540],[9.346805,-36.556777],[7.560708,-36.354385],[5.998697,-35.781263],[4.660772,-34.888489],[3.546932,-33.727141],[1.991512,-30.803040],[1.332436,-27.417586],[-29.178413,0.562411],[-31.287456,2.759331],[-32.183800,4.101651],[-32.552883,5.483514],[-32.377130,6.434782],[-31.885020,7.293780],[-31.129279,7.915509],[-30.162633,8.154974],[-29.264093,7.988007],[-28.457823,7.557409],[-27.069367,6.327131],[-25.768516,9.945460],[-23.833303,13.102435],[-21.367532,15.798058],[-18.475009,18.032328],[-15.259538,19.805245],[-11.824926,21.116809],[-8.274976,21.967019],[-4.713494,22.355875],[-0.325422,21.974982],[4.318046,20.547806],[9.090035,18.280307],[13.863673,15.378447],[18.512087,12.048188],[22.908403,8.495491],[30.437254,1.546630],[29.031223,-3.796285],[20.595042,2.671457]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[1.473038,-19.825023],[3.300875,-8.295576],[2.573694,-3.126222],[1.825366,-1.100935],[0.752443,0.685438],[-0.696153,2.333405],[-2.571500,3.943475],[-7.806761,7.451958],[-9.915805,4.653081],[-12.341207,2.038743],[-15.241145,0.057118],[-16.918494,-0.556373],[-18.773794,-0.843620],[1.473038,-19.825023]]);
    }
  }
}

module poly_path2998(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[137.203254,-2.812059],[136.078427,-8.014372],[104.864562,19.684415],[104.583359,19.403211],[125.392604,-11.529444],[129.013129,-17.452347],[130.533398,-20.842198],[131.157324,-23.902508],[130.900284,-25.890722],[130.155527,-28.313927],[128.962599,-30.288961],[128.210427,-30.832424],[127.361043,-30.932658],[126.064310,-30.350474],[124.184293,-28.964216],[118.713955,-24.043108],[101.208889,-7.451958],[96.623913,-3.323945],[91.735759,0.474534],[89.182111,2.081308],[86.557613,3.403032],[83.863913,4.372150],[81.102659,4.921106],[81.858402,0.632712],[82.664673,-1.366487],[83.774119,-3.233871],[88.939080,-7.715590],[95.778097,-14.411809],[99.030365,-17.997185],[101.747134,-21.424384],[103.610399,-24.456135],[104.302155,-26.855172],[103.654062,-28.696191],[102.070080,-30.827205],[100.090653,-32.589136],[98.256224,-33.322909],[95.924743,-32.476269],[92.232267,-30.187899],[87.702764,-26.676942],[82.860199,-22.162540],[78.228538,-16.863839],[74.331747,-10.999981],[72.822668,-7.924601],[71.693793,-4.790110],[71.010619,-1.623902],[70.838641,1.546630],[71.275555,5.235260],[72.198538,8.488900],[73.500489,11.294369],[75.074309,13.638485],[76.812898,15.508066],[78.609155,16.889930],[80.355982,17.770896],[81.946277,18.137782],[82.966747,17.839002],[84.705611,16.881144],[89.995801,13.251827],[97.131404,7.777098],[105.426976,0.984222],[105.708186,1.265426],[86.867385,33.041699],[84.547434,37.101612],[83.506094,39.467698],[83.071104,41.477880],[83.314962,43.936235],[84.072901,47.014123],[85.384462,49.643838],[86.260209,50.456974],[87.289191,50.757678],[88.203660,50.519037],[89.226877,49.876712],[91.401829,47.822590],[94.881754,43.727528],[137.203254,-2.812059]]);
  }
}


module shape(h){ poly_path2990(h);
poly_path2992(h);
poly_path2996(h);
poly_path2994(h);
poly_path2998(h);

}

//-------------------------------------------------

/// Module grid have been imported from the Openscad grid creator by Glyn
/// Orininaly published on http://www.thingiverse.com/thing:29211
/// Under the terms of Creative Commons By-Sa (08.26.2012)

module grid(meshSolid, meshSpace, gridThickness, gridX, gridY){

meshX=gridX;
meshY=gridY;
nX=meshX/(meshSolid+meshSpace);
nY=meshY/(meshSolid+meshSpace);

for (i=[0:nX]) {
	 	 translate([-(meshX/2)+i*(meshSolid+meshSpace),-meshY/2,-gridThickness/2]) cube(size=[meshSolid,meshY,gridThickness],center=false);
}

for (i=[0:nY]) {
	 	translate([-meshX/2,-(meshY/2)+i*(meshSolid+meshSpace),-gridThickness/2]) cube(size=[meshX,meshSolid,gridThickness],center=false);
    }
}


module rebords(borderType,borderThick,Lreb,Hreb){
if (borderType==0){}
if (borderType==1){
    cylinder(h = Hreb, r=(borderThick+Lreb));} 
if (borderType==2) {
    cylinder(h = Hreb, r1=(borderThick+Lreb),r2=(borderThick));}
}


module borders(h){
cylinder(r=borderThick,h=h);
}



module fullVolume (borderType,borderThick,Lreb,Hreb,h) {
minkowski(){
    shape(0.001);
    union(){
       borders(h);
       rebords(borderType,borderThick,Lreb,Hreb);
    }}}


module finalShape(){
if (full == false){
    difference(){
      fullVolume(borderType,borderThick,Lreb,Hreb,h);
      translate([0,0,(-0.5*h)]) shape(3*h);
}}
else{
          fullVolume(borderType,borderThick,Lreb,Hreb,h);
}
}


if (grid==true){
union (){
  finalShape();
  intersection() {
   translate([moveGridX,moveGridY,(0.5*gridThickness)]) rotate([0,0,rotateGridZ]) grid(meshSolid, meshSpace, gridThickness, gridX, gridY);
    shape();
}}
}
else{
    finalShape();
}

// Enjoy your cookies ! :)

